<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>九宫格闪烁</title>
	<style>
		#ninebox{width: 290px;height: 300px;margin: 30px auto;display: flex;flex-wrap: wrap;}
		#ninebox span{width: 90px;height: 90px;background: #FFB000;display: inline-block;border-radius: 5px;margin-right: 10px;}
		#ninebox span:nth-child(3n){margin-right: 0;}
		
		input{width: 290px;height: 40px;border: solid 1px #FFB000;background: #fff;border-radius: 5px;font-size: 14px;display: block;margin: 10px auto;color: #FFB000;cursor: pointer;}
		input:hover{background: #FFB000;color: #fff;}
	</style>
</head>
<body>
	<div id="ninebox">
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
	</div>
	<input type="button" value="开始闪" />
	<input type="button" value="结束闪" />
	<script>		
		var mybtn=document.getElementsByTagName('input');
		var littlebox=document.getElementById('ninebox').getElementsByTagName('span');
		var color=['#E39696','#8AB1D1','#64B9E1','#56CAB6','#DA5A17','#B890AB','#F9889A','yellow','#53BACB'];
		var count=9;
		var num=3;
		var myset;
		function getRandom(){				
			var arr=new Array;
			var tempcolor=new Array;
			//构件数组
			for(var i=0;i<count;i++){
				arr[i]=i;
				tempcolor[i]=i;
			}
			arr.sort(function(){
				return Math.random()-0.5;
			})
			tempcolor.sort(function(){
				return Math.random()-0.5;
			})		
			
			for(var i=0;i<num;i++){
				var a=arr[i];
				var b=tempcolor[i];
				littlebox[a].style.background=color[b];
			}			
			setTimeout(renew,500);
		}
		
		function renew(){
			for(var i=0;i<count;i++){
				littlebox[i].style.background='#FFB000';
			}
		}
		
		mybtn[0].onclick=function(){
			myset=setInterval(getRandom,1000);
		}
		
		mybtn[1].onclick=function(){
			clearInterval(myset);
		}
	</script>
</body>
</html>
